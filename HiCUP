wget https://github.com/StevenWingett/HiCUP/archive/refs/tags/v0.9.2.tar.gz

tar -xvzf hicup_v0.X.Y.tar.gz

chmod a+x /Users/burudpc/Desktop/HiCUP/HiCUP-0.9.2

export PATH=/home/em_b/HiCUP-0.9.2:$PATH

hicup --help

bowtie2-build -f /Users/burudpc/Desktop/gencode/GRCm39.primary_assembly.genome.fa GRCm39_bwt2_index

hicup_digester --genome GRCm39 --arima /Users/burudpc/Desktop/gencode/GRCm39.primary_assembly.genome.fa

#---fill int configuration parameter in text editor
hicup --example

#---run the HiCUP pipeline
hicup --config hicup_example.conf

#---convert sam to bam 

#-- has header use
head muTh1_R1_2.hicup.sam 
samtools view -bS muTh1_R1_2.hicup.sam > muTh1_R1_2.hicup.bam

samtools view -H muTh1_R1_2.hicup.bam

#--remove chrM from bam
sed '/chrM/d;/random/d;/chrUn/d' < file.sam > file_filtered.sam

ref: https://arimagenomics.com/wp-content/files/Bioinformatics-User-Guide-for-Visualization-of-Arima-HiC-Data-with-HiGlass-in-a-Mac-or-Linux-Based-OS.pdf

git clone https://github.com/4dn-dcic/pairix
cd pairix
make

#--bam2pairs converts HiCUP bams into pairs file
export PATH=/home/em_b/pairix/util/bam2pairs:$PATH

#--get chrom.sizes file from UCSC
bam2pairs -c mm39.chrom.sizes SRR26855487_filtered.bam pairs_out

pip install cooler

cooler cload pairs -c1 2 -p1 3 -c2 4 -p2 5 mm39.chrom.sizes:1000 pairs_out.bsorted.pairs fuckingwork.cool

DID NOT WORK ON FINAL FILE!!!!
tried:

sed '/chrM/d;/random/d;/chrUn/d' < muTh1_R1_2.hicup.sam > muTh1_chrM_filtered_hicup.sam

samtools view -bS muTh1_chrM_filtered_hicup.sam > muTh1_chrM_filtered_hicup.bam

samtools view -b muTh1_R1_2.hicup.sam > muTh1_R1_2.hicup.bam

samtools sort -o muTh1_sorted.hicup.bam muTh1_R1_2.hicup.bam

samtools index muTh1_sorted.hicup.bam

samtools view -b muTh1_sorted.hicup.bam chr{1..19} > muTh1_sorted_rmexChr.hicup.bam




bam2pairs -c /home/em_b/Desktop/HiCUP/mm39.chrom.sizes muTh1_chrM_filtered_hicup.bam muTh1_chrM_filtered_hicup_bam_pairs
